conv_kernel=[-0.1061828658,-0.2541961670,-0.2792724669,0.2332183868,0.2921722531,-0.4004394710,-0.3790161312,0.0513092056,-0.3555694520,0.3006317317,-0.2829101682,-0.0682006851,0.2357147187,0.4121917784,0.5842071772,-0.2197082490,0.2043731660,0.4796661437,0.3304657042,-0.2647857666,-0.1229858398,0.3475158811,0.0591461174,-0.1585510224,-0.0829650909,0.1225708053,-0.0162994396,-0.5756592155,0.2856903076,0.6987335086,-0.1260315031,-0.4530273378,-0.2931427062,-0.2306976318,-0.2100830078,0.1506195068,0.3377075195,-0.3452972472,0.2577117980,0.1222106963,0.0195892341,-0.2339019775,0.2672119141,0.0062988284,-0.2830261290,0.4917114377,0.4624023438,-0.4423492551,0.3896270692,-0.1771240234,-0.2269134521,0.1958770752,-0.1584686339,-0.3220794797,0.0138702393,-0.2669067383,-0.0110687260,-0.1932800263,-0.1624176055,-0.0927764922,0.0570404045,0.3688873351,0.1753631681,0.2207733244,0.1120941192,0.0227569584,-0.0799468979,0.0470886230,-0.1872161925,-0.5243805051,0.2678802609,0.0118133547,]
conv_offset=[0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,]
ip_mat=[-0.0187984556,0.0056089074,-0.0157213900,0.0236879662,-0.0394227542,-0.0443204530,0.0704613626,0.0046528140,0.0064775418,-0.0554798394,-0.0704773664,-0.0220206641,-0.0732555836,0.0515125543,0.0377628952,-0.0348346978,-0.0535244793,-0.0158963073,-0.0007674054,0.0430201069,-0.0323914289,0.0126908459,-0.0568594560,0.0507176071,0.0185948815,-0.0326657183,-0.0150276739,-0.0094615649,0.0206462573,-0.0255007856,0.0249652397,0.0121932607,0.0183049645,0.0400353409,0.0292499810,0.0059408792,-0.0573618785,-0.0125501677,-0.0257352497,-0.0185089111,-0.0242778491,-0.0013833394,0.0301279202,0.0014640994,0.0999171510,0.0141035868,0.0079021920,0.0272663385,-0.0404041559,-0.0478158332,0.0451113060,0.0041708597,0.0342909619,0.0188047830,-0.0233288277,0.0522505566,-0.0277084708,-0.0179685261,-0.0346798785,0.0132859387,0.0117678754,-0.0342984088,0.0216883216,0.0013014630,0.0177009385,-0.0306820739,-0.0092691556,0.0583391860,0.0423487201,0.0179849006,0.1002900600,-0.0198561493,-0.0163938943,-0.0949591622,0.0587954633,-0.0042813928,0.0014912675,0.0364350080,0.0227943975,0.0121739078,-0.0671379268,-0.0100038107,0.0279771741,0.0463130288,0.0711666197,0.0414052792,0.0237236936,0.0337245278,0.0147615755,-0.0121884225,-0.0669231862,-0.0390625000,0.0334122814,0.0458921082,-0.0046598851,0.0760966912,0.0518452711,-0.0048735081,-0.0303251669,0.0231665634,0.0231490713,0.0209037960,0.0184378270,-0.0369820930,0.0223072320,0.0270549487,0.0116331512,0.0052884729,0.0177080110,-0.0127764437,-0.0236395858,0.0122234058,0.0311733335,-0.0599945784,0.0193838719,-0.0127697447,-0.0507689677,0.0391681939,-0.0028455779,0.0848805457,-0.0352995321,-0.0501191653,-0.0263154563,-0.0080704102,-0.0236444231,0.0196901634,0.0722328722,-0.0171825122,0.0299690049,0.0131467488,0.0623399653,0.0516446717,-0.0277628079,-0.0219399054,-0.0667054653,0.0059010573,0.0057041817,0.0309332851,0.0346847139,0.0180489141,-0.0359765030,-0.0048217773,-0.0852203369,-0.0195174795,0.0204356108,0.0184802543,-0.0111389160,-0.0085795326,0.0396650359,-0.1060511842,0.0039505376,-0.0061574792,0.0050990405,-0.0136666643,-0.0456595048,0.0179581046,-0.0167128388,0.0246935580,-0.0322589390,-0.0302589219,0.0244170390,0.0386966616,-0.0134091256,0.1170270890,0.0198840629,0.0245167799,0.0084113143,0.0024771341,-0.0022583008,0.0414890163,-0.0604802556,0.0123041663,0.0008995242,0.0024034453,0.0100030666,0.0066803722,-0.0156912450,0.0059613483,-0.0831280202,-0.0151047120,0.0567187779,0.0427294448,0.0300069656,0.0152305039,0.0106063467,0.0060502957,0.0325708129,0.0505013801,0.0664151758,0.0250765160,0.0388336182,0.0294758864,0.0586577617,0.0032568208,0.0404004343,-0.0690248013,0.0232700240,-0.0313240588,-0.0485996120,-0.0037052804,0.0364577100,0.0277311727,-0.0100298626,-0.0150526091,0.0125352805,-0.0235796664,0.0327010714,0.0048411298,0.0054525980,-0.0372232571,0.0512114726,0.0256027579,-0.0289362445,-0.0072200121,0.0243325569,-0.0357007273,-0.1001795307,-0.0396892242,0.0218959898,0.0102096181,0.0533350483,0.0133670708,-0.0396933183,-0.0745332241,-0.0158300623,-0.0481783226,0.0584136210,0.0214542281,-0.0104418499,-0.0606648475,0.0592740662,0.0474406891,-0.0375771858,0.0078969812,0.0005530380,-0.0103037758,0.0259395689,-0.0656336322,0.0141482465,-0.0011004936,-0.0372842923,0.0284937415,0.0187266264,0.0145784700,-0.0469393842,0.0314033292,-0.0272131190,0.0365887135,0.0307799540,0.0435984507,-0.0185945090,0.0100447489,-0.0014231611,0.0345287770,-0.0144523056,-0.0941902697,-0.0337751433,-0.0017305699,0.0129848570,-0.0133499512,-0.0622606948,0.0105285645,-0.0132543044,0.0620001778,0.0351863950,-0.0391998291,-0.0267601926,0.1001196131,-0.0367602818,0.0520079061,0.0194285307,-0.0373933353,-0.0829590559,0.0616804883,0.0150961522,-0.0080142133,0.0552312322,-0.0396951810,-0.0781250000,-0.0314725526,-0.0271327309,-0.0129357306,-0.0125516560,0.0252428744,0.0020041117,0.0427644290,0.0130365882,-0.0111110033,-0.0045125075,-0.0340393782,0.0752861202,-0.0520641021,-0.0112747559,0.0276489239,-0.0080882749,-0.0245320387,0.0401801132,-0.0277650412,0.0530291274,-0.0208725333,-0.0680151209,-0.0520205610,-0.0456323363,-0.0531582683,-0.0110775083,-0.0164456237,-0.0258193593,-0.0732384622,0.0614091791,0.0585464835,0.0018213784,-0.0702432767,0.0449747220,-0.0524102151,0.0486885607,0.0477771275,0.0534221344,-0.0627995878,0.0595349558,-0.0130466362,-0.0055608982,-0.0393457152,0.0264397580,0.0791350529,-0.0257441811,0.0273117423,-0.0546480492,-0.0237437915,0.0110380584,-0.0023636236,-0.0651583746,0.0547890998,0.0507920422,0.0009207376,0.0243582372,0.0367673524,-0.0687523782,0.0296534076,-0.0313698351,-0.0474801399,0.0094783129,-0.0162796378,-0.0594214424,0.0328834318,-0.0041567171,0.0251371786,0.0295324549,0.0660299882,0.0531523153,-0.0016691627,0.1102767512,0.0320602022,0.0303195845,0.0189942140,0.0526528694,0.0048217773,-0.0118158851,-0.0375250839,-0.0623083338,0.0406181514,0.0180496573,-0.0291279107,0.0272868071,0.0430439264,-0.0431752987,-0.0041328985,0.0103465747,-0.0204010010,0.0082877548,0.0203649011,-0.0518262908,-0.0380412750,0.0325313658,-0.0149826417,0.0621970557,0.0670969859,-0.0189763512,-0.0397003889,0.0256466735,0.0008444437,-0.0335983634,0.0721539706,-0.0105430782,0.0326921418,-0.0534195304,-0.0281029660,0.0453420468,-0.0477298610,0.0115505308,0.0125408629,-0.0102948444,-0.0028987976,-0.0384279564,0.0044362135,0.0695975646,0.0154485926,-0.0128493886,0.0283984654,-0.0446554013,-0.0064797746,0.0268461630,0.0607236512,-0.0151192266,0.0337275043,-0.0198591277,0.0196786262,0.0376065858,0.0295116138,0.0239242911,-0.0287218783,0.0093517769,-0.0482631773,-0.0188836809,0.0099558011,-0.0346255414,-0.0304569136,-0.0084053595,-0.0548698604,0.0088988515,0.0347036943,-0.0316013247,0.0233265944,0.0085244523,0.0173633844,0.0056945053,-0.0471917130,0.0345358476,0.0014529343,-0.0578989163,0.0163001083,-0.0021425572,-0.0252384078,0.0656481460,0.0036695525,0.0237571895,-0.0159670189,0.0152788851,0.0189376455,0.0408567078,0.0047830720,0.0091690430,0.0481433384,-0.0531366840,-0.0198795963,-0.0183942840,-0.0265525244,-0.0031518703,-0.0296154469,-0.0323791504,0.0182714686,-0.0032612870,-0.0179741085,0.0013569157,0.0874667242,0.0978884771,-0.0531846918,-0.0138121806,-0.0131705673,-0.0110097742,-0.0845307112,-0.0085430611,0.0256548617,-0.0674505457,0.0191676430,-0.0444845781,-0.0760356560,0.0412698127,-0.0666072145,0.0103257336,0.0472802855,-0.0757639781,0.0042847423,-0.0150719611,0.0643098354,-0.0339757390,0.0278629195,-0.0249633789,-0.0458053946,-0.0549684837,-0.0142699443,0.0724334717,-0.0520414002,0.0016285966,0.0212573539,-0.0505411997,-0.0056230496,0.0143414000,0.0071288315,0.0402761288,-0.0771108493,0.0048441072,0.0178338028,-0.0003260170,-0.0164608825,0.0038169301,-0.0306913778,0.0281442776,0.0700490028,0.0292094145,0.0535066165,0.0267527495,-0.0073800432,-0.0338443667,0.0146916080,-0.0171475280,-0.0378246754,0.0012102824,0.0165040549,-0.0314383134,0.0315194465,0.0727598593,0.0079877898,0.0469751097,0.0150801493,0.0230035540,-0.0249946397,-0.0810565427,0.0440908261,-0.0216604080,0.0213161558,0.0315804817,-0.0534857735,0.0250303671,-0.0469010510,0.0442713276,-0.0240779966,0.0330404863,0.0161542185,-0.0175706819,-0.0639413968,-0.0186793618,-0.0362995416,-0.0377275422,-0.0075013693,0.0308048893,0.0461481586,0.0487235449,0.0370647125,-0.0447253697,0.0623500161,0.0545453317,0.0532866679,0.0203325208,-0.0499029383,0.0442463942,0.0237140190,-0.0331223644,0.0667352453,-0.0227571800,0.0262105055,-0.0633236021,-0.0058463491,-0.0095970333,-0.0182428118,-0.1080657169,-0.0594724305,-0.0086621540,0.0348547958,-0.0038225127,-0.0475638770,-0.0424399003,0.0570578203,-0.0439222381,-0.0246712286,0.0572759099,0.0330062471,-0.0129822521,-0.0668286532,-0.0066386894,-0.0007305610,0.0265257284,-0.0348428860,-0.0001116497,0.0311941747,-0.0161315165,-0.0279689878,-0.0415906198,-0.0367755406,-0.0164039414,0.0512583628,0.0456874184,0.0422508419,0.0240936279,0.0557269566,0.0330174118,-0.0009240871,-0.0154072829,0.0465772673,-0.0452047177,-0.0082360245,-0.0604560636,-0.0268897079,0.0293482319,-0.0717244968,-0.0320847668,-0.0127049880,0.0282201990,-0.0158475544,-0.0652447194,0.0299407206,0.0540667251,-0.0052832626,0.0662834346,0.0959606618,-0.0248882007,0.0045281383,-0.0711703375,0.0086628981,-0.0201326683,-0.0195558127,-0.1031479239,-0.0101724016,0.0259879492,0.0216190983,-0.0208561588,0.0014693097,0.0154322181,0.0643120706,0.0108084325,-0.0788633749,-0.0043855989,-0.0021462790,-0.0238275286,0.0225841235,-0.0495869704,0.0612178855,0.0739035234,0.0595312342,-0.0399862118,-0.0371808298,-0.0262346957,-0.0401008390,-0.0055612703,0.0493186377,0.0502017848,0.0413401537,-0.0332909562,-0.0207564179,-0.0743798986,-0.0134720216,-0.0596942417,-0.0982799977,-0.0161378440,0.0070986860,-0.0649123713,-0.0090149669,-0.0173972510,0.0014045528,-0.0725830793,-0.0564869195,0.0597995631,0.0402355641,0.0000122815,-0.0485683531,0.0449084751,-0.0993209407,-0.0429229736,-0.0794112012,-0.0629194304,0.0671282485,-0.0317129716,-0.0274308361,-0.0227136370,-0.0015612346,0.0341945738,-0.0065262956,-0.0118300272,-0.0232815612,-0.0342113189,0.0077317399,-0.0135122156,0.0364554785,-0.0262123663,-0.0547853783,0.0741324052,0.0397093222,0.0705156997,0.0484968945,0.0071187830,0.0436226428,0.0861120448,-0.0047224090,0.0206350926,-0.0375708602,0.0039363950,-0.0285357945,-0.0277278237,-0.0693858042,-0.0222711321,0.0088355830,-0.0553544201,-0.0057257675,-0.0270493664,-0.0479788408,-0.0116249640,0.0233377591,-0.0465921536,-0.0176804699,0.0638092756,-0.0189763512,-0.0259391963,0.0461697429,0.0026825694,0.0478790998,0.0221542716,0.0201654192,0.0170381125,-0.0438954420,-0.0076226951,0.0190158002,0.0075285374,-0.0715696737,0.0225376021,0.0406434573,0.0925903320,0.0838485286,-0.0325309932,0.0484429300,0.0350758620,0.0194594208,]
ip_off=[0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,]
digit=[1.0000000000,1.0000000000,1.0000000000,0.0000000000,1.0000000000,0.0000000000,0.0000000000,0.0000000000,1.0000000000,0.0000000000,1.0000000000,0.0000000000,1.0000000000,1.0000000000,1.0000000000,1.0000000000,1.0000000000,1.0000000000,1.0000000000,0.0000000000,1.0000000000,0.0000000000,0.0000000000,0.0000000000,1.0000000000,1.0000000000,0.0000000000,1.0000000000,0.0000000000,1.0000000000,1.0000000000,1.0000000000,0.0000000000,1.0000000000,1.0000000000,0.0000000000,1.0000000000,0.0000000000,0.0000000000,0.0000000000,1.0000000000,0.0000000000,1.0000000000,1.0000000000,0.0000000000,1.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,1.0000000000,1.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,0.0000000000,1.0000000000,1.0000000000,1.0000000000,]
#
#######
import sys
import numpy as np
sys.path.append('/opt/caffe/caffe/python')
import caffe

net=caffe.Net('lenet.prototxt',caffe.TEST)
net.blobs['data'].reshape(1,1,8,8)
net.blobs['label'].reshape(1,1)
net.blobs['label_flat'].reshape(1,10)

np.copyto(net.params['conv1'][0].data,np.array(conv_kernel).reshape(8,1,3,3))
np.copyto(net.params['conv1'][1].data,np.array(conv_offset))
np.copyto(net.params['ip2'][0].data,np.array(ip_mat).reshape((10,72)))
np.copyto(net.params['ip2'][1].data,np.array(ip_off))

np.copyto(net.blobs['data'].data,np.array(digit).reshape(1,1,8,8))
net.blobs['label'].data[0,0]=1 
net.blobs['label_flat'].data[0,1]=1 

print net.forward()
#net.backward(start='accuracy',end='ip2')
net.backward()

ip_off=[-0.2853421569,-0.7119264603,0.3356421888,-0.0301032867,-0.3069750965,0.1205426529,-0.1798453629,-0.0657120422,-0.2901784182,-0.1510329843,]
ip_off=[-0.2853421569,-0.7119264603,0.3356421888,-0.0301032867,-0.3069750965,0.1205426529,-0.1798453629,-0.0657120422,-0.2901784182,-0.1510329843,]
ip_mat=[0.0000000000,0.0000000000,-0.0356538333,0.0000000000,0.0000000000,-0.0356538333,0.0000000000,0.0000000000,-0.0665470362,-0.4135206044,-0.3744575977,-0.3746648431,-0.4463826716,-0.2581150234,-0.3515739441,-0.4262403250,-0.4463826716,-0.2182761282,-0.1413004547,-0.1480970234,-0.1414188892,-0.2055642754,-0.0477552749,-0.0707965195,-0.0592027530,-0.2055642754,-0.1009460613,0.0000000000,-0.1287801564,-0.0637082234,0.0000000000,0.0000000000,-0.1849899739,-0.1972516328,0.0000000000,-0.0285899434,-0.2216617763,-0.1398253143,-0.1463284194,-0.1313977540,-0.1709753871,-0.1476171911,-0.1698982269,-0.1313977540,-0.1781986505,-0.2323821336,-0.0245033000,-0.1920860857,-0.3293521404,-0.1890461594,-0.2019199878,-0.0650571063,-0.1890461594,-0.1456570327,-0.0145893097,-0.0244345125,-0.0962132886,-0.0546014719,-0.0207693353,0.0000000000,-0.0007993898,-0.0546014719,-0.1755314171,-0.0352271497,-0.0696941018,-0.1584707946,-0.1719071567,-0.0321898200,-0.0921040103,-0.0694894567,-0.1399219781,-0.0889813378,0.0000000000,0.0000000000,-0.0889560357,0.0000000000,0.0000000000,-0.0889560357,0.0000000000,0.0000000000,-0.1660343409,-1.0317307711,-0.9342687726,-0.9347859025,-1.1137212515,-0.6439949274,-0.8771742582,-1.0634663105,-1.1137212515,-0.5445972681,-0.3525435627,-0.3695009053,-0.3528390229,-0.5128812790,-0.1191490367,-0.1766367555,-0.1477104127,-0.5128812790,-0.2518596351,0.0000000000,-0.3213055134,-0.1589515209,0.0000000000,0.0000000000,-0.4615485370,-0.4921413064,0.0000000000,-0.0713316873,-0.5530443788,-0.3488630652,-0.3650882542,-0.3278363943,-0.4265822768,-0.3683037460,-0.4238947332,-0.3278363943,-0.4446042478,-0.5797916055,-0.0611355416,-0.4792532921,-0.8217310309,-0.4716686904,-0.5037887692,-0.1623169780,-0.4716686904,-0.3634131849,-0.0364002138,-0.0609639175,-0.2400514036,-0.1362302452,-0.0518193319,0.0000000000,-0.0019944715,-0.1362302452,-0.4379495084,-0.0878914669,-0.1738862395,-0.3953833878,-0.4289070368,-0.0803133473,-0.2297987938,-0.1733756512,-0.3491042554,-0.2220077366,0.0000000000,0.0000000000,0.0419388786,0.0000000000,0.0000000000,0.0419388786,0.0000000000,0.0000000000,0.0782779306,0.4864159226,0.4404668808,0.4407106638,0.5250708461,0.3036154509,0.4135493040,0.5013778210,0.5250708461,0.2567537725,0.1662088633,0.1742035151,0.1663481593,0.2418010831,0.0561735593,0.0832765102,0.0696389973,0.2418010831,0.1187408045,0.0000000000,0.1514814943,0.0749386922,0.0000000000,0.0000000000,0.2175999433,0.2320230901,0.0000000000,0.0336297713,0.2607362568,0.1644736826,0.1721231490,0.1545605212,0.2011148781,0.1736391038,0.1998478323,0.1545605212,0.2096114606,0.2733463943,0.0288227350,0.2259469628,0.3874102533,0.2223711610,0.2375143766,0.0765253529,0.2223711610,0.1713334173,0.0171611086,0.0287418216,0.1131737381,0.0642266050,0.0244305488,0.0000000000,0.0009403061,0.0642266050,0.2064740509,0.0414369814,0.0819797516,0.1864059716,0.2022109032,0.0378642306,0.1083400771,0.0817390382,0.1645873934,0.1046669409,0.0000000000,0.0000000000,-0.0037614405,0.0000000000,0.0000000000,-0.0037614405,0.0000000000,0.0000000000,-0.0070206402,-0.0436259732,-0.0395048670,-0.0395267345,-0.0470928848,-0.0272308532,-0.0370906703,-0.0449678898,-0.0470928848,-0.0230278950,-0.0149070444,-0.0156240743,-0.0149195381,-0.0216868073,-0.0050381292,-0.0074689556,-0.0062458259,-0.0216868073,-0.0106496997,0.0000000000,-0.0135861663,-0.0067211483,0.0000000000,0.0000000000,-0.0195162408,-0.0208098330,0.0000000000,-0.0030162081,-0.0233850759,-0.0147514185,-0.0154374884,-0.0138623202,-0.0180377178,-0.0155734532,-0.0179240778,-0.0138623202,-0.0187997632,-0.0245160609,-0.0025850714,-0.0202648733,-0.0347462930,-0.0199441630,-0.0213023387,-0.0068634539,-0.0199441630,-0.0153666586,-0.0015391563,-0.0025778145,-0.0101503972,-0.0057603959,-0.0021911424,0.0000000000,-0.0000843348,-0.0057603959,-0.0185183734,-0.0037164260,-0.0073526516,-0.0167184956,-0.0181360170,-0.0033959909,-0.0097168731,-0.0073310621,-0.0147616174,-0.0093874335,0.0000000000,0.0000000000,-0.0383568928,0.0000000000,0.0000000000,-0.0383568928,0.0000000000,0.0000000000,-0.0715922341,-0.4448712766,-0.4028467536,-0.4030697048,-0.4802247286,-0.2776837647,-0.3782281876,-0.4585553110,-0.4802247286,-0.2348245233,-0.1520130187,-0.1593248546,-0.1521404237,-0.2211489379,-0.0513757952,-0.0761638880,-0.0636911541,-0.2211489379,-0.1085991859,0.0000000000,-0.1385435015,-0.0685382038,0.0000000000,0.0000000000,-0.1990148127,-0.2122060806,0.0000000000,-0.0307574626,-0.2384668440,-0.1504260302,-0.1574221700,-0.1413595527,-0.1839377284,-0.1588086486,-0.1827788949,-0.1413595527,-0.1917086095,-0.2499999553,-0.0263609942,-0.2066489011,-0.3543216586,-0.2033785135,-0.2172283530,-0.0699893460,-0.2033785135,-0.1566998810,-0.0156953838,-0.0262869913,-0.1035076082,-0.0587410294,-0.0223439429,0.0000000000,-0.0008599948,-0.0587410294,-0.1888391674,-0.0378978625,-0.0749778897,-0.1704850942,-0.1849401295,-0.0346302576,-0.0990867913,-0.0747577325,-0.1505300403,-0.0957273692,0.0000000000,0.0000000000,0.0150619438,0.0000000000,0.0000000000,0.0150619438,0.0000000000,0.0000000000,0.0281127635,0.1746915877,0.1581894308,0.1582769752,0.1885741353,0.1090405583,0.1485222429,0.1800650060,0.1885741353,0.0922106430,0.0596923083,0.0625635087,0.0597423390,0.0868405253,0.0201741923,0.0299079530,0.0250101741,0.0868405253,0.0426446125,0.0000000000,0.0544031151,0.0269135069,0.0000000000,0.0000000000,0.0781489238,0.0833288580,0.0000000000,0.0120778074,0.0936409086,0.0590691343,0.0618163683,0.0555089191,0.0722284690,0.0623608120,0.0717734173,0.0555089191,0.0752799362,0.0981697142,0.0103514064,0.0811466724,0.1391346455,0.0798624530,0.0853009969,0.0274833422,0.0798624530,0.0615327433,0.0061632465,0.0103223473,0.0406452566,0.0230663642,0.0087739956,0.0000000000,0.0003377018,0.0230663642,0.0741531625,0.0148816919,0.0294422377,0.0669459030,0.0726220906,0.0135985734,0.0389092937,0.0293557867,0.0591099747,0.0375901200,0.0000000000,0.0000000000,-0.0224718861,0.0000000000,0.0000000000,-0.0224718861,0.0000000000,0.0000000000,-0.0419432446,-0.2606336474,-0.2360130101,-0.2361436486,-0.2813459337,-0.1626846492,-0.2215899229,-0.2686506212,-0.2813459337,-0.1375750154,-0.0890588090,-0.0933425426,-0.0891334489,-0.1295629889,-0.0300991777,-0.0446216054,-0.0373142920,-0.1295629889,-0.0636242479,0.0000000000,-0.0811675191,-0.0401539989,0.0000000000,0.0000000000,-0.1165954173,-0.1243236959,0.0000000000,-0.0180196613,-0.1397089064,-0.0881290510,-0.0922278315,-0.0828173384,-0.1077623144,-0.0930401161,-0.1070833951,-0.0828173384,-0.1123149917,-0.1464657336,-0.0154439323,-0.1210679561,-0.2075839639,-0.1191519499,-0.1272660643,-0.0410041735,-0.1191519499,-0.0918046683,-0.0091953455,-0.0154005764,-0.0606412813,-0.0344141982,-0.0130904904,0.0000000000,-0.0005038392,-0.0344141982,-0.1106338874,-0.0222029574,-0.0439267755,-0.0998809189,-0.1083495915,-0.0202885885,-0.0580512881,-0.0437977947,-0.0881899819,-0.0560831279,0.0000000000,0.0000000000,-0.0082107959,0.0000000000,0.0000000000,-0.0082107959,0.0000000000,0.0000000000,-0.0153252566,-0.0952305272,-0.0862346217,-0.0862823501,-0.1027983949,-0.0594418459,-0.0809646994,-0.0981597751,-0.1027983949,-0.0502672680,-0.0325403772,-0.0341055728,-0.0325676501,-0.0473398268,-0.0109976623,-0.0163038783,-0.0136339255,-0.0473398268,-0.0232470799,0.0000000000,-0.0296570528,-0.0146714998,0.0000000000,0.0000000000,-0.0426017269,-0.0454254933,0.0000000000,-0.0065840380,-0.0510469526,-0.0322006643,-0.0336982757,-0.0302598644,-0.0393742807,-0.0339950733,-0.0391262174,-0.0302598644,-0.0410377420,-0.0535157658,-0.0056429161,-0.0442359075,-0.0758471936,-0.0435358360,-0.0465005748,-0.0149821369,-0.0435358360,-0.0335436650,-0.0033598025,-0.0056270747,-0.0221571606,-0.0125742871,-0.0047830138,0.0000000000,-0.0001840932,-0.0125742871,-0.0404234976,-0.0081125339,-0.0160499997,-0.0364945680,-0.0395888574,-0.0074130609,-0.0212108251,-0.0160028730,-0.0322229266,-0.0204916988,0.0000000000,0.0000000000,-0.0362581275,0.0000000000,0.0000000000,-0.0362581275,0.0000000000,0.0000000000,-0.0676749423,-0.4205293655,-0.3808042705,-0.3810150325,-0.4539484084,-0.2624897957,-0.3575327694,-0.4334646463,-0.4539484084,-0.2219756991,-0.1436953545,-0.1506071091,-0.1438157856,-0.2090483755,-0.0485646762,-0.0719964504,-0.0602061786,-0.2090483755,-0.1026569977,0.0000000000,-0.1309628487,-0.0647880137,0.0000000000,0.0000000000,-0.1881253570,-0.2005948573,0.0000000000,-0.0290745143,-0.2254187167,-0.1421952099,-0.1488085389,-0.1336248219,-0.1738732457,-0.1501191556,-0.1727778316,-0.1336248219,-0.1812189370,-0.2363207787,-0.0249186065,-0.1953417510,-0.3349343240,-0.1922502965,-0.2053423226,-0.0661597550,-0.1922502965,-0.1481257826,-0.0148365842,-0.0248486530,-0.0978440046,-0.0555269122,-0.0211213548,0.0000000000,-0.0008129387,-0.0555269122,-0.1785064936,-0.0358242169,-0.0708753467,-0.1611567140,-0.1748208106,-0.0327354036,-0.0936650857,-0.0706672370,-0.1422935277,-0.0904894769,0.0000000000,0.0000000000,-0.0188717451,0.0000000000,0.0000000000,-0.0188717451,0.0000000000,0.0000000000,-0.0352236703,-0.2188784629,-0.1982022226,-0.1983119249,-0.2362724990,-0.1366215199,-0.1860897988,-0.2256110609,-0.2362724990,-0.1155346110,-0.0747910142,-0.0783884674,-0.0748537034,-0.1088061631,-0.0252770968,-0.0374729410,-0.0313363038,-0.1088061631,-0.0534312390,0.0000000000,-0.0681639612,-0.0337210707,0.0000000000,0.0000000000,-0.0979160890,-0.1044062451,0.0000000000,-0.0151327960,-0.1173266470,-0.0740102157,-0.0774523392,-0.0695494711,-0.0904981047,-0.0781344920,-0.0899279490,-0.0695494711,-0.0943214074,-0.1230009869,-0.0129697155,-0.1016720906,-0.1743276864,-0.1000630483,-0.1068772227,-0.0344350412,-0.1000630483,-0.0770969763,-0.0077221924,-0.0129333055,-0.0509261601,-0.0289008226,-0.0109933103,0.0000000000,-0.0004231209,-0.0289008226,-0.0929096267,-0.0186459012,-0.0368894227,-0.0838793591,-0.0909912884,-0.0170382261,-0.0487511009,-0.0367811061,-0.0740613863,-0.0470982529,]
k_off=[-0.1099255681,0.0513163432,-0.0017842762,-0.0838892311,0.1954443157,0.0661570728,-0.0631217808,-0.0199308898,]
kern=[0.0000000000,0.0000000000,0.0000000000,-0.1099255681,-0.1388932467,-0.1388932467,0.0000000000,0.0000000000,0.0000000000,0.0471238792,0.0107165296,0.0260749143,0.0038340539,0.0204612557,-0.0070043094,0.0148524567,0.1032150686,0.0516386069,0.0461851917,0.0000000000,0.1156023666,0.0787870958,0.0088684373,0.0699304789,0.0162916742,0.1327945143,-0.0015263688,0.0002858797,-0.0838892311,-0.0671347082,-0.0490563735,-0.0350762606,0.0002434013,-0.0350762606,-0.0490563735,-0.0515449047,0.1954443157,0.0201140828,0.1016860902,0.1424915045,0.1484449804,0.0912701488,0.1173377112,0.0738896057,0.0390687920,-0.0042996258,0.1309476644,0.0396879986,0.1167022586,-0.1322951019,0.0895099491,0.0933493823,0.1514289379,0.0057846680,-0.0631217808,-0.0473375246,-0.1055386066,-0.0454264097,-0.0538219474,-0.0530299842,-0.0663462281,-0.0076289475,-0.0587426536,0.0174937546,-0.0823835433,0.0219622441,-0.0374631286,0.0476963744,-0.0508178994,0.0148809999,-0.0225821268,-0.0059947167,]
val=kern
name='conv1'
index=0
ref = net.params[name][index].diff
print np.maximum(np.abs(ref.reshape((-1,)) - np.array(val)),0.001)
#print net.blobs[name].diff.reshape((-1,))
#print np.array(val)
print np.sum(np.abs(ref.reshape((-1,)) - np.array(val)))
